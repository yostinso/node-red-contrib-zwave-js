<script type="text/javascript">

    RED.nodes.registerType('event-filter',
        {
            category: 'ZWave JS',
            color: 'rgb(46,145,205)',
            defaults:
            {
                name: { value: "ZWave Event Filter" },
                outputs: {value: 3}
            },
            inputs: 1,
            outputs: 3,
            icon: "rbe.png",
            label: function () {
                return this.name;
            },

            oneditprepare: SortUI,
            oneditsave:DoSave
        });

        function SortUI(){
            $("#filtersets").editableList({
                header: $('<div>').append('<div>Filter Sets - order defines outputs</div>'),
                sortable: true,
                removable: true, 
                addButton: 'add',
                addItem:function(container, index, data){

                 

            

                 $(container).html("<strong>Name:</strong> Motion and Air Temp Changes<br /><strong>Events:</strong> 1<br /><strong>ValueIDs:</strong> 2");
                
                }
            });

            $("#filtersets").editableList('addItem',{name:"banana"});
        }

        function DoSave(){
            //this.outputs = $('#sortable').children().length;
        }

        function AddValueIDToFilter(ValueID){
            
        }

      

</script>

<script type="text/x-red" data-template-name="event-filter">

  
    <p>
        Add your filter sets below.<br />
        each set of filters, becomes an output pin.<br /><br />
        A filter set can include the event(s) to be filtered, and optionally ValueID(s)
    </p>

  
<div>
   <ol id="filtersets" style="min-height:350px;min-width:400px">
   </ol>
</div>

   
    
   
   
   
    
   
</script>

<script type="text/x-red" data-help-name="event-filter">
    <p>A Z-Wave event filter.</p>

 
</script>